package ee.kivikakk.ili9341spi.spi

import chisel3._
import ee.kivikakk.ili9341spi.spi.LCDCommand._

object LCDInit {
  val sequence: Seq[Seq[Data]] = Seq(
    Seq(POWER_CTRL_A, 0x39.U, 0x2c.U, 0x00.U, 0x34.U, 0x02.U),
    Seq(POWER_CTRL_B, 0x00.U, 0xc1.U, 0x30.U),
    Seq(DRIVER_TIMING_CTRL_A, 0x85.U, 0x00.U, 0x78.U),
    Seq(DRIVER_TIMING_CTRL_B, 0x00.U, 0x00.U),
    Seq(POWER_ON_SEQ_CTRL, 0x64.U, 0x03.U, 0x12.U, 0x81.U),
    Seq(PUMP_RATIO_CTRL, 0x20.U),
    Seq(POWER_CTRL_1, 0x23.U),
    Seq(POWER_CTRL_2, 0x10.U),
    Seq(VCOM_CTRL_1, 0x3e.U, 0x28.U),
    Seq(VCOM_CTRL_2, 0x86.U),
    Seq(MEMORY_ACCESS_CTRL, 0x48.U),
    Seq(COLMOD, 0x55.U),
    Seq(FRAME_RATE_CTRL, 0x00.U, 0x18.U),
    Seq(DISPLAY_FN_CTRL, 0x08.U, 0x82.U, 0x27.U),
    Seq(ENABLE_3G, 0x00.U),
    Seq(GAMMA_SET, 0x01.U),
    Seq(POS_GAMMA_CORRECTION, 0x0f.U, 0x31.U, 0x2b.U, 0x0c.U, 0x0e.U, 0x08.U,
      0x4e.U, 0xf1.U, 0x37.U, 0x07.U, 0x10.U, 0x03.U, 0x0e.U, 0x09.U, 0x00.U),
    Seq(NEG_GAMMA_CORRECTION, 0x00.U, 0x0e.U, 0x14.U, 0x03.U, 0x11.U, 0x07.U,
      0x31.U, 0xc1.U, 0x48.U, 0x08.U, 0x0f.U, 0x0c.U, 0x31.U, 0x36.U, 0x0f.U),
    Seq(SLEEP_OUT), // XXX: wait 120ms
    Seq(DISPLAY_ON),
  )
}
